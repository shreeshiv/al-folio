<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>Shreeshiv  Patel | Text recognition from image using mobile vision api in android</title>
<meta name="description" content="Shreeshiv Patel's personal website.
">

<!-- Open Graph -->

<meta property="og:site_name" content="Shreeshiv Patel's personal website.
" />
<meta property="og:type" content="object" />
<meta property="og:title" content="" />
<meta property="og:url" content="/blog/2020/Text-Recognition-from-Image-using-Mobile-Vision-API-in-Android/" />
<meta property="og:description" content="Text recognition from image using mobile vision api in android" />
<meta property="og:image" content="" />


<!-- Bootstrap & MDB -->
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" integrity="sha512-MoRNloxbStBcD8z3M/2BmnT+rg4IsMxPkXaGh2zD6LGNNFE80W3onsAhRcMAMrSoyWL9xD7Ert0men7vR8LUZg==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css" integrity="sha512-RO38pBRxYH3SoOprtPTD86JFOclM51/XTIdEPh5j8sj4tp8jmQIx26twG52UaLi//hQldfrh7e51WzP9wuP32Q==" crossorigin="anonymous" />

<!-- Fonts & Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css"  integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.0/css/academicons.min.css" integrity="sha512-W4yqoT1+8NLkinBLBZko+dFB2ZbHsYLDdr50VElllRcNt2Q4/GSs6u71UHKxB7S6JEMCp5Ve4xjh3eGQl/HRvg==" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

<!-- Code Syntax Highlighting -->
<link rel="stylesheet" href="https://gitcdn.link/repo/jwarby/jekyll-pygments-themes/master/github.css" />

<!-- Styles -->
<link rel="shortcut icon" href="/assets/img/favicon.ico">
<link rel="stylesheet" href="/assets/css/main.css">

<link rel="canonical" href="/blog/2020/Text-Recognition-from-Image-using-Mobile-Vision-API-in-Android/">

<!-- Theming-->

  <script src="/assets/js/theme.js"></script>




    
<!-- MathJax -->
<script type="text/javascript">
  window.MathJax = {
    tex: {
      tags: 'ams'
    }
  };
</script>
<script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-mml-chtml.js"></script>
<script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>


  </head>

  <body class="fixed-top-nav ">

    <!-- Header -->

    <header>

    <!-- Nav Bar -->
    <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
    <div class="container">
      
      <a class="navbar-brand title font-weight-lighter" href="/">
       <span class="font-weight-bold">Shreeshiv</span>   Patel
      </a>
      
      <!-- Navbar Toogle -->
      <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar top-bar"></span>
        <span class="icon-bar middle-bar"></span>
        <span class="icon-bar bottom-bar"></span>
      </button>
      <div class="collapse navbar-collapse text-right" id="navbarNav">
        <ul class="navbar-nav ml-auto flex-nowrap">
          <!-- About -->
          <li class="nav-item ">
            <a class="nav-link" href="/">
              about
              
            </a>
          </li>
          
          <!-- Blog -->
          <li class="nav-item active">
            <a class="nav-link" href="/blog/">
              blog
              
            </a>
          </li>
          
          <!-- Other pages -->
          
          
          
          
          
          
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/certificate/">
                Certificate
                
              </a>
          </li>
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/cp/">
                Competitive coding
                
              </a>
          </li>
          
          
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/experience/">
                Experience
                
              </a>
          </li>
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/projects/">
                Projects
                
              </a>
          </li>
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/fav-quotes/">
                Reading
                
              </a>
          </li>
          
          
          
          
          
          
          
            <div class = "toggle-container">
              <a id = "light-toggle">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
              </a>
            </div>
          
        </ul>
      </div>
    </div>
  </nav>

</header>


    <!-- Content -->

    <div class="container mt-5">
      

<div class="post">

  <header class="post-header">
    <h1 class="post-title">Text recognition from image using mobile vision api in android</h1>
    <p class="post-meta">January 1, 2020</p>
  </header>

  <article class="post-content">
    <h1 id="text-recognition-from-image-using-mobile-vision-api-in-android">Text Recognition from Image using Mobile Vision API in Android</h1>

<blockquote>
  <p>Develop android application to recognise Text from Image using Mobile Vision API.</p>
</blockquote>

<p><img src="https://miro.medium.com/max/28/1*of40W-Yv-Jo3q-QX37rVAg.png?q=20" alt="Image for post" /></p>

<p><img src="https://miro.medium.com/max/2160/1*of40W-Yv-Jo3q-QX37rVAg.png" alt="Image for post" /></p>

<p>Sample Image</p>

<p><img src="https://miro.medium.com/max/2130/1*xBLaf6nxkhrEa8-RXKwy4Q.jpeg" alt="Image for post" /></p>

<p>Output of Mobile vision</p>

<h2 id="introduction-to-mobile-vision">Introduction to Mobile Vision</h2>

<p>Mobile Vision is powerful API available in most Android devices. Some use-cases of Mobile Vision are 1. Detect faces 2. Barcode scanner 3. Text recognition. In this post we are developing android application for text recognition using Mobile Vision.</p>

<h2 id="use-cases-of-text-recognition">Use cases of Text Recognition</h2>

<ol>
  <li>Extracting Invoices parameters from Invoice and Bills</li>
  <li>Digitising documents</li>
  <li>Scanning vouchers, cards and etc.</li>
</ol>

<h2 id="text-recognition-mobile-vision">Text Recognition Mobile Vision</h2>

<p>Mobile Vision API segments text into three parts; Blocks, Lines, and words.</p>

<p><img src="https://miro.medium.com/max/3532/1*ukvZg9kDbGNdJlHh6UC3BQ.png" alt="Image for post" /></p>

<p>Souce: <a href="https://developers.google.com/vision/android/text-overview">https://developers.google.com/vision/android/text-overview</a></p>

<p>Github repo :</p>

<h2 id="tutorial">Tutorial</h2>

<ol>
  <li>Start new project. Select empty activity and give preferred to the project.</li>
  <li>Go to Gradle scripts. In build.gradle( Module :app we have to add dependencies for given project). Since we are using Google mobile vision api we have to add its dependancies. Add line : implementation <strong>‘com.google.android.gms:play-services-vision:19.0.0’</strong></li>
</ol>

<p>dependencies {<br />
    implementation fileTree(<strong>dir</strong>: <strong>‘libs’</strong>, <strong>include</strong>: [<strong>’*.jar’</strong>])<br />
    implementation <strong>‘androidx.appcompat:appcompat:1.1.0’</strong> implementation <strong>‘androidx.constraintlayout:constraintlayout:1.1.3’</strong> testImplementation <strong>‘junit:junit:4.12’</strong> androidTestImplementation <strong>‘androidx.test.ext:junit:1.1.1’</strong> androidTestImplementation <strong>‘androidx.test.espresso:espresso-core:3.2.0’</strong>implementation **‘com.google.android.gms:play-services-vision:19.0.0’<br />
**}</p>

<p>3. Get camera permission from Manifest file</p>

<p>&lt;<strong>uses-feature<br />
    android:name=”android.hardware.camera”<br />
    android:required=”true”</strong> /&gt;</p>

<p>4. Layout file:</p>

<p>&lt;<strong>LinearLayout<br />
    android:layout_width=”match_parent”<br />
    android:layout_height=”match_parent”<br />
    android:orientation=”vertical”</strong>&gt;<br />
&lt;<strong>Button<br />
    android:id=”@+id/btn”<br />
    android:layout_width=”match_parent”<br />
    android:layout_height=”wrap_content”<br />
    android:layout_margin=”20dp”<br />
    android:text=”Start the camera”</strong> /&gt;</p>

<p>&lt;<strong>ImageView<br />
    android:id=”@+id/imageView”<br />
    android:layout_width=”wrap_content”<br />
    android:layout_height=”wrap_content”<br />
    android:layout_margin=”20dp”<br />
    android:visibility=”visible”<br />
    tools:srcCompat=”@tools:sample/avatars”</strong> /&gt;</p>

<p>&lt;<strong>TextView<br />
    android:id=”@+id/text”<br />
    android:layout_width=”match_parent”<br />
    android:layout_height=”wrap_content”<br />
    android:layout_alignParentBottom=”true”<br />
    android:layout_margin=”20dp”<br />
    android:textColor=”#000000”<br />
    android:textSize=”20sp”</strong> /&gt;<br />
&lt;/<strong>LinearLayout</strong>&gt;</p>

<p>4. MainActivity file, recogniser</p>

<p><strong>recognizer</strong>=  <strong>new</strong> TextRecognizer.Builder(getApplicationContext()).build();</p>

<p><strong>if</strong>(<strong>recognizer</strong>.isOperational())<br />
{<br />
   <em>// bitmap.;</em> Frame frame =<strong>new</strong> Frame.Builder().setBitmap(<strong>bitmap</strong>).build();</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>**final** SparseArray&lt;TextBlock&gt; items = **recognizer**.detect(frame);  
**if** (items.size() != 0)  
{  
    StringBuilder stringBuilder = **new** StringBuilder();  
    **for** (**int** i=0 ; i&lt;items.size(); i++)  
    {  
        TextBlock item = items.valueAt(i);  
        stringBuilder.append(item.getValue());  
        stringBuilder.append(**"\\n"**);  
    }  
    **textView**.setText(stringBuilder.toString());  
}   }
</code></pre></div></div>

<p>Github Repository</p>

<p>Download sample application</p>

<p>I am writing at pandemic time of COVID19. Hope you are doing well. Stay SAFE. Stay HEALTHY. Let’s utilise this time for learning new, reading books, or something constructive. Hit clap if you like this post.Thanks for reading.</p>

<p><a href="https://shreeshivpatel.medium.com/text-recognition-from-image-using-mobile-vision-api-in-android-b604f433e2c4">Source</a></p>

  </article>

  

</div>

    </div>

    <!-- Footer -->

    
<footer class="fixed-bottom">
  <div class="container mt-0">
    &copy; Copyright 2021 Shreeshiv  Patel.
    
    
  </div>
</footer>



  </body>

  <!-- jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>

  <!-- Bootsrap & MDB scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.4.4/umd/popper.min.js" integrity="sha512-eUQ9hGdLjBjY3F41CScH3UX+4JDSI9zXeroz7hJ+RteoCaY+GP/LDoM8AO+Pt+DRFw3nXqsjh9Zsts8hnYv8/A==" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha512-M5KW3ztuIICmVIhjSqXe01oV2bpe248gOxqmlcYrEzAvws7Pw3z6BK0iGbrwvdrUQUhi3eXgtxp5I8PDo9YfjQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js" integrity="sha512-Mug9KHKmroQFMLm93zGrjhibM2z2Obg9l6qFG2qKjXEXkMp/VDkI4uju9m4QKPjWSwQ6O2qzZEnJDEeCw0Blcw==" crossorigin="anonymous"></script>

  
<!-- Mansory & imagesLoaded -->
<script defer src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
<script defer src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
<script defer src="/assets/js/mansory.js" type="text/javascript"></script>


  


<!-- Load Common JS -->
<script src="/assets/js/common.js"></script>

<!-- Load DarkMode JS -->
<script src="/assets/js/dark_mode.js"></script>


</html>
